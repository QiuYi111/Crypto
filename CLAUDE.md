åŠ å¯†è´§å¸æ—¥é—´äº¤æ˜“å¼ºåŒ–å­¦ä¹ æ™ºèƒ½ä½“å¼€å‘è¯´æ˜ (CryptoRL Agent Development Spec)
1. é¡¹ç›®æ¦‚è¿°
æœ¬é¡¹ç›®çš„ç›®æ ‡æ˜¯å¼€å‘ä¸€ä¸ªå…ˆè¿›çš„å¼ºåŒ–å­¦ä¹  (RL) æ™ºèƒ½ä½“ï¼Œç”¨äºåœ¨Binanceå¹³å°è¿›è¡ŒåŠ å¯†è´§å¸åˆçº¦çš„æ—¥é—´äº¤æ˜“ (T+1)ã€‚è¯¥æ™ºèƒ½ä½“å°†èåˆå¤§å‹è¯­è¨€æ¨¡å‹ (LLM) å¯¹æ–°é—»å’Œæƒ…ç»ªçš„ç†è§£èƒ½åŠ›ï¼Œä»¥ç”Ÿæˆå¤šç»´åº¦çš„â€œä¿¡å¿ƒå‘é‡â€ï¼Œä»è€Œå¢å¼ºRLçš„è§‚æµ‹ç©ºé—´ã€‚é€šè¿‡åœ¨å¤šä¸ªåŠ å¯†è´§å¸æ ‡çš„ï¼ˆå¦‚BTC, ETH, SOLç­‰ï¼‰ä¸Šè¿›è¡Œå¤šå¸‚åœºè®­ç»ƒï¼Œæ—¨åœ¨æ„å»ºä¸€ä¸ªé€šç”¨ä¸”é²æ£’çš„äº¤æ˜“ç­–ç•¥ï¼Œèƒ½å¤Ÿé€‚åº”ä¸åŒå¸‚åœºç‰¹æ€§ï¼Œå®ç°æ”¶ç›Šæœ€å¤§åŒ–ã€‚ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å°†æ¢ç´¢ä½¿ç”¨Mambaæ¨¡å‹æ¶æ„ä½œä¸ºRLæ™ºèƒ½ä½“çš„åŸºåº§ï¼Œå¹¶å°è¯•å¤šç§ä¸»æµRLè®­ç»ƒç®—æ³•ã€‚

2. é¡¹ç›®ç›®æ ‡
å®ç°æ—¥é—´äº¤æ˜“æ”¶ç›Šæœ€å¤§åŒ–ï¼š åœ¨åŠ å¯†è´§å¸åˆçº¦å¸‚åœºä¸­ï¼Œé€šè¿‡RLç­–ç•¥å®ç°ç¨³å¥ä¸”å¯è§‚çš„æ—¥é—´äº¤æ˜“æ”¶ç›Šã€‚

æå‡ç­–ç•¥é²æ£’æ€§ä¸æ³›åŒ–èƒ½åŠ›ï¼š è®­ç»ƒRLæ™ºèƒ½ä½“åœ¨å¤šä¸ªåŠ å¯†è´§å¸æ ‡çš„ï¼ˆè€Œéå•ä¸€å¸‚åœºï¼‰ä¸Šå­¦ä¹ é€šç”¨äº¤æ˜“é€»è¾‘ï¼Œä½¿å…¶èƒ½å¤Ÿé€‚åº”å¸‚åœºå˜åŒ–å¹¶å¯èƒ½æ³›åŒ–åˆ°æ–°çš„æˆ–æœªè®­ç»ƒè¿‡çš„èµ„äº§ã€‚

èåˆéç»“æ„åŒ–ä¿¡æ¯ï¼š åˆ©ç”¨LLMå°†æµ·é‡å†å²æ–°é—»å’Œäº‹ä»¶è½¬åŒ–ä¸ºç»“æ„åŒ–çš„â€œä¿¡å¿ƒå‘é‡â€ï¼Œä¸ºRLæä¾›è¶…è¶Šä¼ ç»ŸæŠ€æœ¯æŒ‡æ ‡çš„æ·±åº¦å¸‚åœºæ´å¯Ÿã€‚

æ¢ç´¢å‰æ²¿æ¨¡å‹æ¶æ„ï¼š å°è¯•å°†Mambaæ¨¡å‹æ¶æ„åº”ç”¨äºRLæ™ºèƒ½ä½“ï¼Œä»¥æœŸåœ¨å¤„ç†æ—¶é—´åºåˆ—æ•°æ®å’Œé•¿åºåˆ—ä¾èµ–æ–¹é¢è·å¾—ä¼˜åŠ¿ã€‚

æ„å»ºå¯æ‰©å±•çš„AIäº¤æ˜“ç³»ç»Ÿï¼š æ­å»ºæ¨¡å—åŒ–ã€å¯ç»´æŠ¤çš„ç³»ç»Ÿæ¶æ„ï¼Œä¾¿äºåç»­çš„åŠŸèƒ½æ‰©å±•ã€ç®—æ³•å‡çº§åŠæ€§èƒ½ä¼˜åŒ–ã€‚

3. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
æœ¬é¡¹ç›®å°†åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—ï¼š

3.1. æ•°æ®ç®¡é“ä¸é¢„å¤„ç†æ¨¡å—
åŠŸèƒ½ï¼š è´Ÿè´£æ‰€æœ‰å†å²å’Œå®æ—¶å¸‚åœºäº¤æ˜“æ•°æ®çš„è·å–ã€å­˜å‚¨å’Œåˆæ­¥å¤„ç†ã€‚

æ•°æ®æºï¼š

å¸‚åœºæ•°æ®ï¼š é€šè¿‡Binance APIè·å–æ‰€æœ‰ç›®æ ‡åŠ å¯†è´§å¸å¯¹çš„å†å²æ—¥çº¿ã€å°æ—¶çº¿æˆ–4å°æ—¶çº¿Kçº¿æ•°æ® (OHLCV)ï¼Œä»¥åŠè´¦æˆ·ä¿¡æ¯ã€åˆçº¦èµ„é‡‘è´¹ç‡ç­‰ã€‚

æ–°é—»ä¸äº‹ä»¶æ•°æ®ï¼š ä¸è¿›è¡Œæœ¬åœ°å¤§è§„æ¨¡å®æ—¶æŠ“å–ã€‚è€Œæ˜¯é€šè¿‡é›†æˆå¤–éƒ¨æœç´¢APIï¼ˆå¦‚Google Search API, SerpApi, CoinDesk APIç­‰ï¼‰ï¼Œä¾›LLMæŒ‰éœ€æŸ¥è¯¢ç‰¹å®šæ—¥æœŸå’Œæ ‡çš„çš„å†å²æ–°é—»ã€‚

å­˜å‚¨ï¼š å»ºè®®ä½¿ç”¨é«˜æ€§èƒ½æ•°æ®åº“ï¼ˆå¦‚InfluxDB/ClickHouse ç”¨äºæ—¶é—´åºåˆ—æ•°æ®, PostgreSQL ç”¨äºè´¦æˆ·/è®¢å•æ•°æ®ï¼‰å­˜å‚¨æ•°æ®ã€‚

è¾“å‡ºï¼š ç»“æ„åŒ–çš„å¸‚åœºKçº¿æ•°æ®åŠç›¸å…³æŠ€æœ¯æŒ‡æ ‡ã€‚

3.2. ä¿¡æ¯å¢å¼ºæ¨¡å— (LLM + æœç´¢API)
åŠŸèƒ½ï¼š åˆ©ç”¨LLMå¯¹æ–°é—»ä¿¡æ¯è¿›è¡Œç†è§£å’Œç‰¹å¾æå–ï¼Œç”Ÿæˆâ€œä¿¡å¿ƒå‘é‡â€ã€‚

LLMé€‰å‹ä¸éƒ¨ç½²ï¼š

æ¨èï¼š æœ¬åœ°éƒ¨ç½²æˆ–ä¼˜åŒ–æ¨ç†é€Ÿåº¦çš„äº‘æœåŠ¡ï¼ˆä¾‹å¦‚ï¼ŒåŸºäºLlamaç³»åˆ—ã€Mixtralã€Gemmaç­‰å¼€æºæ¨¡å‹è¿›è¡Œå¾®è°ƒï¼‰ï¼Œä»¥é™ä½æ¨ç†å»¶è¿Ÿå’Œæˆæœ¬ã€‚

å¾®è°ƒï¼š ä½¿ç”¨åŠ å¯†è´§å¸å’Œé‡‘èé¢†åŸŸçš„å†å²æ–°é—»åŠäº‹ä»¶æ•°æ®å¯¹LLMè¿›è¡Œå¾®è°ƒï¼Œä»¥æå‡å…¶å¯¹é‡‘èä¸Šä¸‹æ–‡çš„ç†è§£å’Œç‰¹å®šâ€œä¿¡å¿ƒç»´åº¦â€çš„æå–èƒ½åŠ›ã€‚

æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) æœºåˆ¶ï¼š

ç¦»çº¿è®­ç»ƒæ•°æ®ç”Ÿæˆï¼š åœ¨RLè®­ç»ƒå‰ï¼Œé’ˆå¯¹æ‰€æœ‰å†å²æ—¥æœŸå’Œæ‰€æœ‰ç›®æ ‡æ ‡çš„ï¼Œæ‰¹é‡æ‰§è¡ŒRAGæµç¨‹ï¼š

æ ¹æ®æ—¥æœŸå’Œæ ‡çš„ï¼Œå‘å¤–éƒ¨æœç´¢APIæŸ¥è¯¢ç›¸å…³å†å²æ–°é—»ã€‚

å°†æ£€ç´¢åˆ°çš„æ–°é—»æ‘˜è¦æˆ–æ–‡æœ¬ä½œä¸ºä¸Šä¸‹æ–‡è¾“å…¥ç»™LLMã€‚

LLMè¾“å‡ºä¸€ä¸ªå¤šç»´åº¦çš„â€œä¿¡å¿ƒå‘é‡â€ï¼ˆä¾‹å¦‚ï¼Œ[åŸºæœ¬é¢æƒ…ç»ªã€å¸‚åœºæƒ…ç»ªã€ç›‘ç®¡å½±å“ã€æŠ€æœ¯åˆ›æ–°å½±å“ã€åœ°ç¼˜æ”¿æ²»é£é™©]ï¼Œå„0-1è¯„åˆ†ï¼‰ã€‚

å°†ç”Ÿæˆçš„ä¿¡å¿ƒå‘é‡ä¸å¯¹åº”çš„æ—¥æœŸå’Œæ ‡çš„IDå­˜å‚¨èµ·æ¥ï¼Œä½œä¸ºRLçš„è®­ç»ƒæ•°æ®ã€‚

åœ¨çº¿é¢„æµ‹ï¼š åœ¨å®ç›˜è¿è¡Œæ—¶ï¼Œæ¯å¤©ï¼ˆæˆ–RLæ™ºèƒ½ä½“éœ€è¦æ›´æ–°å…¶è®¤çŸ¥æ—¶ï¼‰æ‰§è¡ŒRAGæµç¨‹ï¼Œè·å–æœ€æ–°ï¼ˆé€šå¸¸æ˜¯å‰ä¸€å¤©ï¼‰çš„ä¿¡å¿ƒå‘é‡ã€‚

è¾“å‡ºï¼š ç»“æ„åŒ–çš„ã€ä¸ç‰¹å®šæ—¥æœŸå’Œæ ‡çš„å…³è”çš„â€œä¿¡å¿ƒå‘é‡â€æ•°æ®ã€‚

3.3. æ•°æ®èåˆæ¨¡å—
åŠŸèƒ½ï¼š å°†å¸‚åœºKçº¿æ•°æ®ä¸LLMç”Ÿæˆçš„ä¿¡å¿ƒå‘é‡æ•´åˆï¼Œå½¢æˆRLæ¨¡å‹å¯ç”¨çš„å¢å¼ºå‹è§‚æµ‹ç©ºé—´æ•°æ®ã€‚

å®ç°ï¼š

æ ¹æ®æ—¥æœŸå’Œæ ‡çš„IDï¼Œå°†æ¯æ—¥Kçº¿æ•°æ®ï¼ˆå¼€ç›˜ä»·ã€æ”¶ç›˜ä»·ã€æˆäº¤é‡ã€æŠ€æœ¯æŒ‡æ ‡ç­‰ï¼‰ä¸LLMç”Ÿæˆçš„ä¿¡å¿ƒå‘é‡è¿›è¡Œæ¨ªå‘æ‹¼æ¥ã€‚

å¯¹æ‰€æœ‰æ•°å€¼ç‰¹å¾è¿›è¡Œæ ‡å‡†åŒ–æˆ–å½’ä¸€åŒ–å¤„ç†ã€‚

ä¸ºæ¯ä¸ªæ•°æ®ç‚¹æ·»åŠ å½“å‰äº¤æ˜“æ ‡çš„çš„IDç¼–ç ï¼ˆå¦‚One-Hot Encodingæˆ–Embeddingï¼‰ï¼Œä»¥ä¾¿RLæ¨¡å‹åŒºåˆ†ä¸åŒèµ„äº§ã€‚

è¾“å‡ºï¼š åŒ…å«äº†å¸‚åœºçŠ¶æ€ã€æŠ€æœ¯æŒ‡æ ‡ã€LLMä¿¡å¿ƒå‘é‡å’Œèµ„äº§IDçš„å¢å¼ºå‹æ•°æ®é›†ï¼Œä½œä¸ºRLè®­ç»ƒå’Œå®ç›˜è§‚æµ‹çš„è¾“å…¥ã€‚

3.4. å¼ºåŒ–å­¦ä¹ ç­–ç•¥æ¨¡å— (CryptoRL Agent)
åŠŸèƒ½ï¼š è®­ç»ƒä¸€ä¸ªèƒ½å¤Ÿæ³›åŒ–åˆ°å¤šå¸‚åœºã€å¤šèµ„äº§çš„RLæ™ºèƒ½ä½“ï¼Œå¹¶æ ¹æ®å¢å¼ºæ•°æ®åšå‡ºäº¤æ˜“å†³ç­–ã€‚

RLæ¡†æ¶ï¼š æ¨èä½¿ç”¨ Stable Baselines3 (PyTorch) æˆ– Ray RLlibã€‚

ç¯å¢ƒæ„å»ºï¼š

è§‚æµ‹ç©ºé—´ (Observation Space): åŒ…å«å†å²Kçº¿æ•°æ®ã€æŠ€æœ¯æŒ‡æ ‡ã€LLMä¿¡å¿ƒå‘é‡ã€è´¦æˆ·çŠ¶æ€ï¼ˆå½“å‰ä»“ä½ã€å¯ç”¨ä¿è¯é‡‘ã€èµ„é‡‘è´¹ç‡ã€å†å²æ”¶ç›Š/äºæŸï¼‰ä»¥åŠå½“å‰äº¤æ˜“æ ‡çš„IDã€‚

åŠ¨ä½œç©ºé—´ (Action Space):

ç¦»æ•£åŠ¨ä½œï¼š ä¹°å…¥ã€å–å‡ºã€æŒæœ‰ã€å¹³ä»“ï¼Œå¹¶å¯ç»†åŒ–ä¸ºä¸åŒæ æ†å€æ•°æˆ–ä»“ä½å¤§å°ã€‚

è¿ç»­åŠ¨ä½œ (å¯é€‰)ï¼š æ›´ç²¾ç»†åœ°è°ƒæ•´ä»“ä½å¤§å°ã€‚

å¥–åŠ±å‡½æ•° (Reward Function): åŸºäºå®é™…äº¤æ˜“æ”¶ç›Š/äºæŸï¼Œå¹¶é›†æˆäº¤æ˜“æ‰‹ç»­è´¹ã€èµ„é‡‘è´¹ç‡ã€æ»‘ç‚¹æƒ©ç½šã€é£é™©ç®¡ç†ï¼ˆå¦‚å¯¹è¶…é¢æ æ†ã€æœ€å¤§å›æ’¤çš„æƒ©ç½šï¼‰ã€‚

çŠ¶æ€é‡ç½®ï¼š å®šä¹‰æ¯ä¸ªè®­ç»ƒå›åˆçš„ç»“æŸæ¡ä»¶ï¼ˆå¦‚è¾¾åˆ°æœ€å¤§äº¤æ˜“å¤©æ•°ã€è§¦å‘æœ€å¤§äºæŸã€è´¦æˆ·çˆ†ä»“ï¼‰ã€‚

RLç®—æ³•æ¢ç´¢ï¼š

åŸºåº§æ¶æ„ï¼š å°è¯•å°†Mambaæ¶æ„ä½œä¸ºActorå’ŒCriticç½‘ç»œçš„éª¨å¹²ï¼Œä»¥æœŸåœ¨å¤„ç†é•¿åºåˆ—ä¾èµ–æ–¹é¢è·å¾—ä¼˜åŠ¿ã€‚

ä¸»æµç®—æ³•ï¼š æ¢ç´¢å¹¶å¯¹æ¯”å¤šç§ä¸»æµRLç®—æ³•çš„æ€§èƒ½ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºPPO, SAC, TD3ã€‚

è®­ç»ƒç­–ç•¥ï¼š

åœ¨å¢å¼ºæ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼Œç¡®ä¿è®­ç»ƒæ•°æ®è¦†ç›–å¤šå¸‚åœºã€å¤šæ—¶é—´æ®µã€‚

RLç¯å¢ƒåœ¨è®­ç»ƒå›åˆä¸­éšæœºé‡‡æ ·ä¸åŒçš„æ ‡çš„å†å²æ•°æ®è¿›è¡Œå­¦ä¹ ï¼Œä¿ƒè¿›æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

3.5. äº¤æ˜“æ‰§è¡Œä¸é£é™©ç®¡ç†æ¨¡å—
åŠŸèƒ½ï¼š å°†RLæ™ºèƒ½ä½“çš„å†³ç­–è½¬åŒ–ä¸ºå®é™…äº¤æ˜“æŒ‡ä»¤ï¼Œå¹¶ä¸¥æ ¼æ‰§è¡Œé£é™©æ§åˆ¶ã€‚

äº¤æ˜“APIé›†æˆï¼š ä½¿ç”¨python-binanceæˆ–å…¶ä»–ç¨³å®šå¯é çš„Binance API SDKã€‚

è®¢å•ç±»å‹ï¼š ä¸»è¦ä½¿ç”¨é™ä»·å•ä»¥æ§åˆ¶æ»‘ç‚¹ï¼Œå¹¶è¾…ä»¥æ­¢æŸ (Stop-Loss) å’Œæ­¢ç›ˆ (Take-Profit) è®¢å•è¿›è¡Œé£é™©ç®¡ç†ã€‚

æ‰§è¡Œé¢‘ç‡ï¼š æ ¹æ®RLæ™ºèƒ½ä½“æ¯æ—¥çš„å†³ç­–è¿›è¡Œäº¤æ˜“ï¼Œæ‰§è¡Œé¢‘ç‡ä¸ºæ—¥çº§åˆ«ï¼ˆT+1ï¼‰ã€‚

é£é™©æ§åˆ¶ï¼š

ç¡¬æ€§é™åˆ¶ï¼š ä¸¥æ ¼æ‰§è¡Œé¢„è®¾çš„æœ€å¤§ä»“ä½é™åˆ¶ã€å•ç¬”äº¤æ˜“æœ€å¤§äºæŸã€è´¦æˆ·æœ€å¤§å›æ’¤ç­‰ã€‚

èµ„é‡‘ç®¡ç†ï¼š ç¡®å®šæ¯æ¬¡äº¤æ˜“çš„æŠ•å…¥èµ„é‡‘æ¯”ä¾‹ã€‚

é”™è¯¯å¤„ç†ï¼š å¥å£®çš„APIè°ƒç”¨é”™è¯¯å¤„ç†ã€é‡è¯•æœºåˆ¶ã€ç½‘ç»œä¸­æ–­å¤„ç†ã€‚

3.6. å›æµ‹ä¸ç›‘æ§æ¨¡å—
åŠŸèƒ½ï¼š å¯¹ç­–ç•¥è¿›è¡Œç¦»çº¿æ€§èƒ½è¯„ä¼°ï¼Œå¹¶å¯¹å®ç›˜äº¤æ˜“è¿›è¡Œå®æ—¶ç›‘æ§ã€‚

ç¦»çº¿å›æµ‹ï¼š

ä½¿ç”¨å†å²å¢å¼ºæ•°æ®é›†ï¼ˆåŒ…å«LLMä¿¡å¿ƒå‘é‡ï¼‰è¿›è¡Œé«˜ç²¾åº¦æ¨¡æ‹Ÿå›æµ‹ã€‚

è¯„ä¼°æŒ‡æ ‡ï¼š å¤æ™®æ¯”ç‡ã€ç´¢æè¯ºæ¯”ç‡ã€æœ€å¤§å›æ’¤ã€å¹´åŒ–æ”¶ç›Šç‡ã€èƒœç‡ã€ç›ˆäºæ¯”ç­‰ã€‚

å®æ—¶ç›‘æ§ï¼š

å¯è§†åŒ–ä»ªè¡¨ç›˜ï¼š ä½¿ç”¨Streamlit/Dashç­‰å·¥å…·ï¼Œå®æ—¶æ˜¾ç¤ºè´¦æˆ·èµ„é‡‘ã€å½“å‰ä»“ä½ã€PNLã€RLæ™ºèƒ½ä½“çš„æœ€æ–°å†³ç­–ã€LLMæœ€æ–°çš„ä¿¡å¿ƒå‘é‡è¯„ä¼°ã€‚

è­¦æŠ¥ç³»ç»Ÿï¼š è®¾ç½®å¼‚å¸¸æƒ…å†µè­¦æŠ¥ï¼ˆå¦‚ç½‘ç»œæ–­å¼€ã€äº¤æ˜“å¤±è´¥ã€è¾¾åˆ°äºæŸé˜ˆå€¼ï¼‰ã€‚

æ—¥å¿—è®°å½•ï¼š è¯¦ç»†è®°å½•æ‰€æœ‰äº¤æ˜“ã€APIè°ƒç”¨ã€LLMè¯„ä¼°ç»“æœã€RLæ¨¡å‹çŠ¶æ€ï¼Œä¾¿äºäº‹ååˆ†æå’Œè°ƒè¯•ã€‚

4. æŠ€æœ¯æ ˆ
ç¼–ç¨‹è¯­è¨€ï¼š Python

æ•°æ®åº“ï¼š InfluxDB/ClickHouse (æ—¶é—´åºåˆ—), PostgreSQL (å…³ç³»æ•°æ®)

Webæ¡†æ¶ (UI)ï¼š Streamlit / Dash

RLæ¡†æ¶ï¼š Stable Baselines3 (PyTorch) / Ray RLlib

LLMæ¡†æ¶ï¼š Hugging Face Transformers, Llama.cpp (ç”¨äºæœ¬åœ°éƒ¨ç½²ä¼˜åŒ–)

æœç´¢APIå°è£…ï¼š SerpApi, Google Custom Search API

äº¤æ˜“æ‰€API SDKï¼š python-binance

å®¹å™¨åŒ–ï¼š Docker (ç”¨äºæ¨¡å—éƒ¨ç½²å’Œç¯å¢ƒéš”ç¦»)

äº‘æœåŠ¡ï¼š AWS/Azure/GCP (å¦‚æœéœ€è¦å¤§è§„æ¨¡è®¡ç®—èµ„æºå’ŒGPU)

5. æŒ‘æˆ˜ä¸é£é™©
LLMç”Ÿæˆç‰¹å¾çš„å‡†ç¡®æ€§ä¸é²æ£’æ€§ï¼š LLMå¯¹æ–°é—»çš„ç†è§£å’Œæƒ…ç»ª/ä¿¡å¿ƒæå–çš„è´¨é‡ç›´æ¥å½±å“RLæ¨¡å‹çš„è¡¨ç°ï¼Œéœ€è¦æŒç»­ä¼˜åŒ–LLMçš„å¾®è°ƒå’Œæç¤ºè¯å·¥ç¨‹ã€‚

Mambaæ¶æ„åœ¨é‡‘èRLä¸­çš„é€‚ç”¨æ€§éªŒè¯ï¼š Mambaæ˜¯å‰æ²¿æŠ€æœ¯ï¼Œå…¶åœ¨å…·ä½“é‡‘èä»»åŠ¡ä¸­çš„è¡¨ç°å’Œç¨³å®šæ€§éœ€è¦å¤§é‡å®éªŒéªŒè¯ã€‚

å†å²æ–°é—»æ•°æ®å¯å¾—æ€§ï¼š å¤–éƒ¨æœç´¢APIå¯¹ç‰¹å®šåŠ å¯†è´§å¸å’Œä¹…è¿œæ—¥æœŸçš„å†å²æ–°é—»è¦†ç›–åº¦å¯èƒ½å­˜åœ¨ä¸è¶³ï¼Œå¯èƒ½éœ€è¦æ•´åˆå¤šä¸ªæ¥æºã€‚

è¿‡æ‹Ÿåˆé£é™©ï¼š RLæ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°ä¼˜å¼‚ï¼Œä½†åœ¨æœªè§è¿‡çš„çœŸå®å¸‚åœºä¸­å¯èƒ½å¤±æ•ˆã€‚éœ€è¦ä¸¥æ ¼çš„å›æµ‹å’ŒéªŒè¯æµç¨‹ï¼Œå¹¶è€ƒè™‘é¢†åŸŸæ³›åŒ–æŠ€æœ¯ã€‚

äº¤æ˜“æˆæœ¬ï¼š é¢‘ç¹çš„æ—¥é—´äº¤æ˜“ä¼šäº§ç”Ÿæ‰‹ç»­è´¹å’Œèµ„é‡‘è´¹ç‡ï¼Œå¿…é¡»åœ¨å¥–åŠ±å‡½æ•°ä¸­å……åˆ†è€ƒè™‘ï¼Œå¹¶ä¼˜åŒ–äº¤æ˜“é¢‘ç‡ã€‚

å¸‚åœºåŠ¨æ€å˜åŒ–ï¼š åŠ å¯†è´§å¸å¸‚åœºæ³¢åŠ¨æ€§é«˜ï¼Œç›‘ç®¡æ”¿ç­–å’Œå¸‚åœºæƒ…ç»ªå˜åŒ–è¿…é€Ÿï¼Œæ¨¡å‹éœ€è¦èƒ½å¤Ÿé€‚åº”å¿«é€Ÿå˜åŒ–çš„å¸‚åœºç¯å¢ƒã€‚

6. é¡¹ç›®é‡Œç¨‹ç¢‘ (ç¤ºä¾‹)
é˜¶æ®µ1 (æ•°æ®ä¸åŸºç¡€æ¶æ„)ï¼šâœ… **COMPLETED**

- âœ… å¸‚åœºæ•°æ®è·å–ä¸å­˜å‚¨ç³»ç»Ÿæ­å»º
- âœ… Dockerå®¹å™¨åŒ–å¼€å‘ç¯å¢ƒéƒ¨ç½²
- âœ… InfluxDBæ—¶é—´åºåˆ—æ•°æ®åº“é›†æˆ
- âœ… PostgreSQLå…³ç³»æ•°æ®åº“é›†æˆ
- âœ… Binance APIå®¢æˆ·ç«¯å®ç°ï¼ˆå«é€Ÿç‡é™åˆ¶ï¼‰
- âœ… å†å²OHLCVæ•°æ®æ”¶é›†å™¨
- âœ… å®æ—¶æ•°æ®æ”¶é›†èƒ½åŠ›
- âœ… é¡¹ç›®ç»“æ„å’Œé…ç½®ç®¡ç†

é˜¶æ®µ2 (LLMå¢å¼ºä¸æ•°æ®èåˆ)ï¼šâœ… **COMPLETED**

- âœ… LLMæ¨¡å‹é€‰å‹ä¸é…ç½®
- âœ… 7ç»´ä¿¡å¿ƒå‘é‡ç³»ç»Ÿè®¾è®¡
- âœ… RAGç®¡é“å¼€å‘
- âœ… Mambaæ¶æ„é›†æˆ
- âœ… æ•°æ®èåˆå¼•æ“
- âœ… å¼ºåŒ–å­¦ä¹ ç¯å¢ƒæ„å»º
- âœ… äº¤æ˜“æ‰§è¡Œç³»ç»Ÿ
- âœ… é£é™©ç®¡ç†ç³»ç»Ÿ
- âœ… **FIXED**: AttributeError in RAG pipeline configuration
- âœ… **FIXED**: Technical indicators calculation bug
- âœ… **FIXED**: Causal constraint in news search (news up to target date)
- âœ… **TESTED**: Full dataset generation with real market data
- âœ… **TESTED**: Mock dataset generation as fallback

é˜¶æ®µ2 (LLMå¢å¼ºä¸æ•°æ®èåˆ)ï¼š

LLMæ¨¡å‹é€‰å‹ã€æœ¬åœ°éƒ¨ç½²ä¸å¾®è°ƒã€‚

LLM-RAGæµç¨‹å¼€å‘ï¼Œæ‰¹é‡ç”Ÿæˆå†å²ä¿¡å¿ƒå‘é‡æ•°æ®ã€‚

æ•°æ®èåˆæ¨¡å—å¼€å‘ï¼Œå½¢æˆå¢å¼ºæ•°æ®é›†ã€‚

é˜¶æ®µ3 (RLé«˜çº§è®­ç»ƒä¸Mambaæ¢ç´¢)ï¼šğŸ”„ **IN PROGRESS**

- âœ… LLMå¢å¼ºæ•°æ®å·²é›†æˆåˆ°RLè§‚æµ‹ç©ºé—´
- âœ… å¢å¼ºæ•°æ®é›†ç”Ÿæˆç®¡é“å·²å®Œæˆ
- âœ… å¤šå¸‚åœºæ•°æ®æ”¶é›†ï¼ˆBTCUSDT, ETHUSDT, SOLUSDTï¼‰
- ğŸ”„ å‡†å¤‡PPO/SACç®—æ³•è®­ç»ƒå®éªŒ
- ğŸ”„ Mambaæ¶æ„é›†æˆæµ‹è¯•å‡†å¤‡
- ğŸ”„ è®­ç»ƒæ•°æ®éªŒè¯å’Œé¢„å¤„ç†

ä¸‹ä¸€æ­¥ï¼š
- å¼€å§‹PPO/SACç®—æ³•åœ¨å¢å¼ºæ•°æ®é›†ä¸Šè®­ç»ƒ
- å®ç°Mambaæ¶æ„Actor-Criticç½‘ç»œ
- è¿›è¡ŒåŸºå‡†æµ‹è¯•å’Œæ€§èƒ½æ¯”è¾ƒ

é˜¶æ®µ4 (å›æµ‹ä¸é£é™©ç®¡ç†)ï¼š

å¼€å‘å®Œæ•´çš„ç¦»çº¿å›æµ‹ç³»ç»Ÿã€‚

æ„å»ºå¥å£®çš„äº¤æ˜“æ‰§è¡Œå’Œé£é™©ç®¡ç†æ¨¡å—ã€‚

åŸºäºå›æµ‹ç»“æœè¿›è¡Œç­–ç•¥ä¼˜åŒ–å’Œç®—æ³•é€‰æ‹©ã€‚

é˜¶æ®µ5 (å®ç›˜éƒ¨ç½²ä¸ç›‘æ§)ï¼š

æ„å»ºå®æ—¶ç›‘æ§ä»ªè¡¨ç›˜å’Œè­¦æŠ¥ç³»ç»Ÿã€‚

å°èµ„é‡‘é‡å®ç›˜æµ‹è¯•ä¸æŒç»­ä¼˜åŒ–ã€‚

7. åç»­å±•æœ›
æ¢ç´¢æ›´å¤æ‚çš„LLMåº”ç”¨ï¼Œä¾‹å¦‚ç›´æ¥ç”Ÿæˆäº¤æ˜“ä¿¡å·æˆ–æ›´ç²¾ç»†çš„äº‹ä»¶å½±å“åˆ†æã€‚

é›†æˆæ›´å¤šéä¼ ç»Ÿæ•°æ®æºï¼Œå¦‚é“¾ä¸Šæ•°æ®ã€ç¤¾äº¤åª’ä½“æƒ…ç»ªç­‰ã€‚

å¼€å‘è‡ªåŠ¨åŒ–çš„ç­–ç•¥è¿­ä»£å’Œæ¨¡å‹æ›´æ–°æœºåˆ¶ã€‚

æ‰©å±•åˆ°æ›´å¹¿é˜”çš„äº¤æ˜“å¸‚åœºï¼Œå¦‚è‚¡ç¥¨ã€å¤–æ±‡ç­‰ã€‚

8. Example for LLM prompt and Confidence Vector

## Current System Status & Usage

### âœ… **SYSTEM STATUS: FULLY OPERATIONAL**

**Key Fixes Implemented:**
- **Fixed AttributeError**: RAG pipeline configuration corrected from `settings.serpapi.api_key` to `settings.serpapi_key`
- **Fixed Technical Indicators**: Bollinger Bands calculation optimized for proper DataFrame handling
- **Fixed Causal Constraint**: News search now correctly uses news up to target date (no look-ahead bias)
- **Fixed LLM Settings**: Corrected settings access from `settings.llm.max_news_articles` to `settings.llm_max_news_articles`

### ğŸ“Š **Current Data Status**
- **Market Data**: âœ… Collected 31 days of 1d interval data for BTCUSDT, ETHUSDT, SOLUSDT
- **Enhanced Dataset**: âœ… Generated with 93 rows Ã— 47 columns (mock) and 6 rows Ã— 47 columns (real)
- **Storage**: âœ… InfluxDB operational with market_data bucket
- **Test Coverage**: âœ… Mock dataset generation working as fallback

### ğŸš€ **Ready to Use Commands**

```bash
# Data Collection
uv run python scripts/collect_data.py --mode historical --symbols BTCUSDT ETHUSDT SOLUSDT --days 30

# Enhanced Dataset Generation  
uv run python scripts/generate_dataset.py --mode full --symbols BTCUSDT ETHUSDT SOLUSDT --days 30

# Mock Dataset (for testing)
uv run python scripts/generate_mock_dataset.py --symbols BTCUSDT ETHUSDT SOLUSDT --days 30
```

### ğŸ”§ **Quick Start for Training**
```bash
# 1. Collect data
uv run python scripts/collect_data.py --mode historical --symbols BTCUSDT ETHUSDT SOLUSDT --days 365

# 2. Generate enhanced dataset
uv run python scripts/generate_dataset.py --mode full --symbols BTCUSDT ETHUSDT SOLUSDT --days 365 --interval 1d

# 3. Begin RL training (next phase)
uv run python -m cryptorl.rl.training --dataset data/enhanced_dataset.parquet
```

## Environment Setup

### Using UV (Recommended)
```bash
# Install uv if not already installed
curl -LsSf https://astral.sh/uv/install.sh | sh

# Create virtual environment and install dependencies
uv venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate
uv pip install -e .

# Install development dependencies
uv pip install -e ".[dev]"

# Verify installation
python -c "import cryptorl; print('Package installed successfully')"
```

### Using pip
```bash
# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install package
pip install -e .

# Install development dependencies
pip install -e ".[dev]"
```

### Docker Setup
```bash
# Build and run with docker-compose
docker-compose up --build

# Or run individual services
docker build -t cryptorl-agent .
docker run -it --env-file .env cryptorl-agent
```

9. Example for LLM prompt and Confidence Vector
{

Â  "role": "system",

Â  "content": "You are a market analysis expert (Athena).\n\nTask: After thoroughly searching and verifying the latest public data, news, and research, provide a short-term (next 1 month) investment confidence assessment for a single asset specified by the user.\n\nOutput format & rules:\n1. The **first line** must contain **only** a JSON array of four numbersâ€”for example `[0.42,0.38,0.27,0.31]`â€”representing, in order, `[Fundamentals, Industry Condition, Geopolitics, Macroeconomics]`. Each value is in the range 0â€“1.\n2. The **second part** must explain the rationale for each score, including risks and opportunities.\n3. Any dimension > 0.5 implies a significant position increase; be especially cautious. Apart from the array and the explanation, output nothing else.\n4. Respond **only after** rigorous verification of up-to-date information. If data are insufficient, state explicitly: \"Insufficient up-to-date data to provide evaluation.\"\n5. All assessments must use a time horizon of exactly **one month**."

}

- ä½¿ç”¨ uv æ¥é…ç½®ç¯å¢ƒå’Œè¿è¡Œå‘½ä»¤ (use uv to config env and use uv run)